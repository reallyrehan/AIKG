if(!window.dblp)throw"dblp-ui.js: dblp.js has not been loaded.";dblp.ui=dblp.ui||{};(function(mod,undefined){var urldata=function(url,data){var result=url+"?";for(var prop in data){result+=prop+"="+data[prop]+"&"}result=result.substring(0,result.length-1);return encodeURI(result)};var hashCode=function(str){var hash=0,i,chr;if(str.length===0)return hash;for(i=0;i<str.length;i++){chr=str.charCodeAt(i);hash=(hash<<5)-hash+chr;hash|=0}return hash};mod.initScrollBars=function(){$("body.js").css("overflow-y","scroll")};mod.initInpageNav=function(){$("nav.side a").click(function(event){event.preventDefault();var target;if($(this).attr("href")=="#")target=0;else target=$($(this).attr("href")).offset().top-12;$("html, body").animate({scrollTop:target},250);return false})};mod.initHideables=function(){$(".hideable").each(function(){var speed=600;if($(this).closest("#settings").length>0)speed=100;var id=$(this).find(".hide-head").attr("id");if(!id)id=$(this).find(".hide-head").parent().attr("id");$(this).find(".hide-head").prepend('<a href="#" class="toggle show">[+]</a>'+'<a href="#" class="toggle hide">[&ndash;]</a>&nbsp;');$(this).find(".show").hide();$(this).find(".hide").show();if($(this).hasClass("hidden")||$(this).find(".hide-body").hasClass("hidden")){$(this).find(".show").show();$(this).find(".hide").hide();$(this).find(".hide-body").hide()}if($.cookie("dblp-hideable-show-"+id)=="true"){console.debug('expanding section "'+id+'" as stored in cookie');$(this).find(".show").hide();$(this).find(".hide").show();$(this).find(".hide-body").show()}else if($.cookie("dblp-hideable-hide-"+id)=="true"){console.debug('collapsing section "'+id+'" as stored in cookie');$(this).find(".show").show();$(this).find(".hide").hide();$(this).find(".hide-body").hide()}else if($(this).closest("#settings").length==0&&$.cookie("dblp-hideable-showall")=="true"){$(this).find(".show").hide();$(this).find(".hide").show();$(this).find(".hide-body").show()}else if($(this).closest("#settings").length==0&&$.cookie("dblp-hideable-hideall")=="true"){$(this).find(".show").show();$(this).find(".hide").hide();$(this).find(".hide-body").hide()}if(id=="homonyms"&&$("#publ-section").length==0){console.debug("expanding homonym section since this is a disambiguation page");$(this).find(".show").hide();$(this).find(".hide").show();$(this).find(".hide-body").show()}$(this).find(".show").click(function(){if(id){console.debug('expanding section "'+id+'" on click')}else{console.debug("expanding section on click",$(this))}$(this).parent().find(".show").hide();$(this).parent().find(".hide").show();$(this).parent().parent().find(".hide-body").show(speed);$.removeCookie("dblp-hideable-hide-"+id);if(id){$.cookie("dblp-hideable-show-"+id,true,{expires:dblp.COOKIE_EXPIRES_IN_DAYS})}return false});$(this).find(".hide").click(function(){if(id){console.debug('collapsing section "'+id+'" on click')}else{console.debug("collapsing section on click",$(this))}$(this).parent().find(".show").show();$(this).parent().find(".hide").hide();$(this).parent().parent().find(".hide-body").hide(speed);$.removeCookie("dblp-hideable-show-"+id);if(id){$.cookie("dblp-hideable-hide-"+id,true,{expires:dblp.COOKIE_EXPIRES_IN_DAYS})}return false})});$("#headline").each(function(){var speed=600;if($(".hideable").length==0)return;$(this).prepend('<ul class="hide-control">'+'<li title="expand all">'+'<a href="#" class="show-all">'+'<span class="generic-thin-icon">[+]</span>'+"</a></li>"+'<li title="collapse all">'+'<a href="#" class="hide-all">'+'<span class="generic-thin-icon">[&ndash;]</span>'+"</a></li></ul>");$(this).find(".show-all").click(function(){console.debug("expanding all sections on click");$(document).find(".hide-head").not("#settings .hide-head").find(".show").hide();$(document).find(".hide-head").not("#settings .hide-head").find(".hide").show();$(document).find(".hide-body").not("#settings .hide-body").show(speed);cookieList=document.cookie.split(";");for(var i=0;i<cookieList.length;i++){var cookieName=jQuery.trim(cookieList[i]).split("=")[0];if(/^dblp-hideable-/.test(cookieName)){$.removeCookie(cookieName)}}$.cookie("dblp-hideable-showall",true,{expires:dblp.COOKIE_EXPIRES_IN_DAYS});return false});$(this).find(".hide-all").click(function(){console.debug("collapsing all sections on click");$(document).find(".hide-head").not("#settings .hide-head").find(".show").show();$(document).find(".hide-head").not("#settings .hide-head").find(".hide").hide();$(document).find(".hide-body").not("#settings .hide-body").hide(speed);cookieList=document.cookie.split(";");for(var i=0;i<cookieList.length;i++){var cookieName=jQuery.trim(cookieList[i]).split("=")[0];if(/^dblp-hideable-/.test(cookieName)){$.removeCookie(cookieName)}}$.cookie("dblp-hideable-hideall",true,{expires:dblp.COOKIE_EXPIRES_IN_DAYS});return false})});$(".side").find("a").click(function(){var speed=600;var target=$(this).attr("href");if(target!="#"&&target!="#footer"){$(document).find(target).find(".show").hide();$(document).find(target).find(".hide").show();$(document).find(target).parent().find(".hide-body").show(speed);var id=$(document).find(target).attr("id");$.removeCookie("dblp-hideable-hide-"+id);if(id){$.cookie("dblp-hideable-show-"+id,true,{expires:dblp.COOKIE_EXPIRES_IN_DAYS})}}return true})};mod.initDismissables=function(){$(".dismissable").each(function(){var id=$(this).attr("id");if(!id)id="hash-"+hashCode($(this).text());if($.cookie("dblp-dismiss-"+id)!="true"){var box=$(this);box.show();box.css("position","relative");box.append('<div class="dismiss">'+'<img alt="" title="dismiss" '+'src="'+dblp.BASE_URL+'/img/clear-mark.big.16x16.png" />'+"</div>");var dismiss=box.find(".dismiss");dismiss.css("position","absolute");dismiss.css("top","4px");dismiss.css("right","10px");dismiss.css("cursor","pointer");dismiss.click(function(){$.cookie("dblp-dismiss-"+id,true,{expires:dblp.COOKIE_EXPIRES_IN_DAYS});box.hide("slow")})}})};mod.initExpandables=function(){$(".expandable").each(function(){var label=$(this).prev("dt");var year=label.text().substring(0,4);var id=label.attr("id");var head=$(this).find(".expand-head");var body=$(this).find(".expand-body");head.show();body.hide();body.after('<ul class="expand-control">'+'<li class="toggle show no-bullet"><a href="'+dblp.BASE_URL+"/news/"+year+"#"+id+'">'+"show more</a></li>"+'<li class="toggle hide no-bullet"><a href="'+dblp.BASE_URL+"/news/"+year+"#"+id+'">'+"show less</a></li>"+"</ul>");var control=$(this).find(".expand-control");control.find(".show").show();control.find(".hide").hide();control.css("font-style","italic");control.css("font-size","small");control.on("click","a",function(){body.toggle();control.find(".toggle").toggle();return false})})};function modernCopyToClipboard(){if(!navigator.clipboard){alert("no clipboard");return}navigator.clipboard.writeText(alert($(this).text())).then(function(){navigator.clipboard.readText().then(function(txt){console.log("copied to clipboard:",txt)})})}function copyToClipboard(){var text=$(this).getSelectionText();if(!text||text.length==0){$(this).selectText();var success=document.execCommand("copy");if(!success)console.error("failed to copy text to clipboard :(")}}mod.initTextSelect=function(){$("#main").on("click",".select-on-click",copyToClipboard);$("#main").one("mouseenter",".select-on-click",function(){if(!$(this).prop("title")){$(this).prop("title","click to copy to clipboard")}})};var activateBanner=function(){if($(this).hasClass("permanent")){$(this).show();return}var id=$(this).attr("data-version");if(!id)return;if($.cookie("dblp-banner-hide-"+id)!="true"){$(this).show("slow");$(this).append('<div class="dismiss">'+'<img alt="" title="dismiss" '+'src="'+dblp.BASE_URL+'/img/clear-mark.big.16x16.png" />'+"</div>");var dismiss=$(this).find(".dismiss");dismiss.css("position","absolute");dismiss.css("top","4px");dismiss.css("right","10px");dismiss.css("cursor","pointer");dismiss.click(function(){$.cookie("dblp-banner-hide-"+id,true,{expires:dblp.COOKIE_EXPIRES_IN_DAYS});$(this).parent().hide("slow")})}};mod.initBanner=function(){$("#banner").find(".message").each(activateBanner)};mod.addBanner=function(msg,clazz){var timestamp=Date.now();var html='<div data-version="'+timestamp+'"';if(clazz==undefined)html+=' class="message modest">';else html+=' class="message '+encodeURI(clazz.trim()).replace("%20"," ")+'">';html+=msg+"</div>";$("#banner").append(html);mod.initBanner()};var isSettingsEnabled=function(quant){if(quant=="any"){return $.cookie("dblp-unpaywall-load")=="true"||$.cookie("dblp-archive-load")=="true"||$.cookie("dblp-references-load")=="true"||$.cookie("dblp-citations-load")=="true"||$.cookie("dblp-tweets-load")=="true"}else if(quant=="all"){return $.cookie("dblp-unpaywall-load")=="true"&&$.cookie("dblp-archive-load")=="true"&&$.cookie("dblp-references-load")=="true"&&$.cookie("dblp-citations-load")=="true"&&$.cookie("dblp-tweets-load")=="true"}else throw"unrecognized quantifier: "+quant};mod.initSettingsMenu=function(){if(!isSettingsEnabled("all")&&$.cookie("dblp-dismiss-new-feature-2019-08-19")!="true"){var count=parseInt($.cookie("dblp-dismiss-new-feature-2019-08-19"));if(isNaN(count)){$.cookie("dblp-dismiss-new-feature-2019-08-19",1,{expires:dblp.COOKIE_EXPIRES_IN_DAYS})}else if(count<8){$.cookie("dblp-dismiss-new-feature-2019-08-19",count+1,{expires:dblp.COOKIE_EXPIRES_IN_DAYS})}else{$.cookie("dblp-dismiss-new-feature-2019-08-19",true,{expires:dblp.COOKIE_EXPIRES_IN_DAYS})}var html='<div id="new-feature-sticker" class="sticker">'+'<img src="'+dblp.BASE_URL+'/img/new-feature-top-right.156x64.png" />'+"</div>";$("#main").append(html);var sticker=$("#new-feature-sticker");sticker.css("position","absolute");sticker.css("top","32px");sticker.css("right","168px");sticker.find("img").css("position","fixed");setTimeout(function(){sticker.fadeOut("slow")},5e3);sticker.one("mouseenter",function(){sticker.fadeOut("slow");$.cookie("dblp-dismiss-new-feature-2019-08-19",true,{expires:dblp.COOKIE_EXPIRES_IN_DAYS})});$("#settings .unpaywall-settings .hide-head").append('&nbsp;<img src="'+dblp.BASE_URL+'/img/new.blue.24x12.png" style="vertical-align:middle" />');$("#settings .archive-settings .hide-head").append('&nbsp;<img src="'+dblp.BASE_URL+'/img/new.blue.24x12.png" style="vertical-align:middle" />');$("#settings .references-settings .hide-head").append('&nbsp;<img src="'+dblp.BASE_URL+'/img/new.blue.24x12.png" style="vertical-align:middle" />');$("#settings .citations-settings .hide-head").append('&nbsp;<img src="'+dblp.BASE_URL+'/img/new.blue.24x12.png" style="vertical-align:middle" />')}var unpaywallButton=$("#settings .unpaywall-load");$("#settings").on("mouseenter",function(){if($.cookie("dblp-unpaywall-load")=="true"){unpaywallButton.find("input").prop("checked",true)}else unpaywallButton.find("input").prop("checked",false)});unpaywallButton.click(function(){var unpaywallState=$.cookie("dblp-unpaywall-load")!="true";$.cookie("dblp-unpaywall-load",unpaywallState,{expires:dblp.COOKIE_EXPIRES_IN_DAYS});unpaywallButton.find("input").prop("checked",unpaywallState)});var archiveButton=$("#settings .archive-load");$("#settings").on("mouseenter",function(){if($.cookie("dblp-archive-load")=="true"){archiveButton.find("input").prop("checked",true)}else archiveButton.find("input").prop("checked",false)});archiveButton.click(function(){var archiveState=$.cookie("dblp-archive-load")!="true";$.cookie("dblp-archive-load",archiveState,{expires:dblp.COOKIE_EXPIRES_IN_DAYS});archiveButton.find("input").prop("checked",archiveState)});var referencesButton=$("#settings .references-load ");$("#settings").on("mouseenter",function(){if($.cookie("dblp-references-load")=="true"){referencesButton.find("input").prop("checked",true)}else referencesButton.find("input").prop("checked",false)});referencesButton.click(function(){if($("#references-load").length>0)$("#references-load input").click();else{var referencesState=$.cookie("dblp-references-load")!="true";$.cookie("dblp-references-load",referencesState,{expires:dblp.COOKIE_EXPIRES_IN_DAYS});referencesButton.find("input").prop("checked",referencesState)}});var citationsButton=$("#settings .citations-load ");$("#settings").on("mouseenter",function(){if($.cookie("dblp-citations-load")=="true"){citationsButton.find("input").prop("checked",true)}else citationsButton.find("input").prop("checked",false)});citationsButton.click(function(){if($("#citations-load").length>0)$("#citations-load input").click();else{var citationsState=$.cookie("dblp-citations-load")!="true";$.cookie("dblp-citations-load",citationsState,{expires:dblp.COOKIE_EXPIRES_IN_DAYS});citationsButton.find("input").prop("checked",citationsState)}});var tweetsButton=$("#settings .tweets-load");$("#settings").on("mouseenter",function(){if($.cookie("dblp-tweets-load")=="true"){tweetsButton.find("input").prop("checked",true)}else tweetsButton.find("input").prop("checked",false)});tweetsButton.click(function(){if($("#tweets-load").length>0)$("#tweets-load").click();else{var tweetState=$.cookie("dblp-tweets-load")!="true";$.cookie("dblp-tweets-load",tweetState,{expires:dblp.COOKIE_EXPIRES_IN_DAYS});tweetsButton.find("input").prop("checked",tweetState)}})};mod.initArchiveUrls=function(){$("#main").on("click","a.archive",function(e){if($.cookie("dblp-archive-load")!="true")return true;e.preventDefault();console.debug("start asking wayback machine");var tmp=$("<iframe>");tmp.hide();tmp.appendTo("body");var href=$(this).attr("href");var pos=href.indexOf("/*/");if(pos>0)href=href.substring(pos+3);var apiUrl="https://archive.org/wayback/available?url="+href;if(dblp.TEAM_MODE_ENABLED||dblp.LEY_MODE_ENABLED||dblp.MRA_MODE_ENABLED){$.post("https://dblps.uni-trier.de/~mra/cgi-bin/200.py?wayback")}console.debug("calling: ",apiUrl);tmp[0].contentDocument.open();$.ajax(apiUrl,{dataType:"jsonp"}).done(function(data,textStatus,jqXHR){try{window.location.href=data.archived_snapshots.closest.url}catch(ex){window.location.href=href}}).fail(function(){window.location.href=href}).always(function(){tmp[0].contentDocument.close();tmp.remove();console.info("done asking wayback machine")});return false})};var loadTweets=function(){var container=$("#tweets");if(container.length==0)return;var html='<p id="tweets-load"><input type="checkbox" checked>'+"<a>load tweets from twitter.com</a></p>";html+='<p><a class="twitter-timeline" data-lang="en" data-width="240" data-height="600" '+'data-dnt="true" data-partner="tweetdeck" data-link-color="#7d848a" '+'href="https://twitter.com/dblp_org/timelines/960455703956770817?ref_src=twsrc%5Etfw">'+"dblp tweets &ndash; curated tweets by @dblp_org</a> "+'<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script></p>';container.find(".hide-body").html(html);container.show();var button=container.find("#tweets-load");button.css("vertical-align","middle");button.find("a").css("position","relative").css("top","-2px");button.css("cursor","pointer");button.click(function(){$.cookie("dblp-tweets-load",false,{expires:dblp.COOKIE_EXPIRES_IN_DAYS});$("#settings .tweets-load input").prop("checked",false);mod.initTweets()})};mod.initTweets=function(){if($.cookie("dblp-tweets-load")=="true"){loadTweets();return}var container=$("#tweets");if(container.length==0)return;var html='<p id="tweets-load"><input type="checkbox">'+"<a>load tweets from twitter.com</a></p>";html+="<p><b>Privacy notice:</b></p>";html+='<p>By enabling the option above, your browser will contact the servers of Twitter to load tweets curated by our Twitter account. At the same time, Twitter will persistently store several cookies with your web browser. While we did signal Twitter to not track our users by setting the <a href="https://dev.twitter.com/web/overview/privacy">&quot;dnt&quot; flag</a>, we do not have any control over how Twitter uses your data. So please proceed with care and consider checking the <a href="https://www.twitter.com/privacy">Twitter privacy policy</a>.</p>';html+="<p>Your decision whether to load or to not load tweets from twitter.com will be stored by us in a cookie with your web browser, and can be revoked at any time.</p>";container.find(".hide-body").html(html);container.show();var button=container.find("#tweets-load");button.css("vertical-align","middle");button.find("a").css("position","relative").css("top","-2px");button.css("cursor","pointer");button.click(function(){$.cookie("dblp-tweets-load",true,{expires:dblp.COOKIE_EXPIRES_IN_DAYS});$("#settings .tweets-load input").prop("checked",true);loadTweets()})};var plotHistogram=function(svg,hist){var ax=10;var wd=svg.width()-2*ax;var ht=svg.height()-ax;var labs;if(hist.obs=="vol")labs={lo:"0",mid:"10",hi:"20+"};else labs={lo:"0",mid:"50",hi:"100+"};var axes='<line x1="0" y1="'+ht+'" x2="'+wd+'" y2="'+ht+'" stroke="#505b62" stroke-width="1" />'+'<text x="0" y="'+(ht+ax)+'" class="tiny">'+labs.lo+"</text>"+'<text x="'+(wd-ax)/2+'" y="'+(ht+ax)+'" class="tiny">'+labs.mid+"</text>"+'<text x="'+(wd-ax)+'" y="'+(ht+ax)+'" class="tiny">'+labs.hi+"</text>";var grid="";for(var i=5;i<=hist.max;i+=5){var y=(1-i/hist.max)*ht+1;grid+='<line x1="0" y1="'+y+'" x2="'+wd+'" y2="'+y+'" stroke="#aaaaaa" stroke-width="0.5"';if(i%10==0)grid+=' stroke-dasharray="4 0" />';else grid+=' stroke-dasharray="4 2" />'}var bins=hist.h.length;var len=wd/bins;var rects="";for(var i=0;i<bins;i++){if(hist.h[i].n<1)continue;rects+='<rect x="'+len*i+'" y="'+(1-hist.h[i].n/hist.max)*ht+'" '+'width="'+(len-1)+'" height="'+hist.h[i].n/hist.max*ht+'" '+'fill="hsl('+100*i/(bins-1)+', 100%, 40%)">'+"<title>"+hist.h[i].n+"</title>"+"</rect>"}svg.html(grid+rects+axes);var svgText=svg.find("text");svgText.css("font","normal 8px sans-serif");svgText.css("fill","#505b62")};var plotScatter=function(svg,scat){var ax=10;var wd=svg.width()-2*ax;var ht=svg.height()-ax;var r=3;var axes='<line x1="0" y1="'+ht+'" x2="'+wd+'" y2="'+ht+'" stroke="#505b62" stroke-width="1" />'+'<text x="0" y="'+(ht+ax)+'" class="tiny">'+scat.first+"</text>"+'<text x="'+(wd-2*ax)+'" y="'+(ht+ax)+'" class="tiny">'+scat.last+"</text>";var grid="";for(var i=5;i<=scat.max;i+=5){if(scat.max>500&&i%20!=0)continue;if(scat.max>250&&i%10!=0)continue;var y=(1-i/scat.max)*ht+1;grid+='<line x1="0" y1="'+y+'" x2="'+wd+'" y2="'+y+'" stroke="#aaaaaa" stroke-width="0.5"';if(i%10==0)grid+=' stroke-dasharray="4 0" />';else grid+=' stroke-dasharray="2 4" />'}var step=wd/(scat.last-scat.first+1);var points="";for(var i=0;i<scat.s.length;i++){var x=(scat.s[i].x-scat.first)*step+step/2;var y=(1-scat.s[i].y/scat.max)*(ht-r)+r;var col="hsl("+100*(scat.s[i].y<20?scat.s[i].y:20)/20+", 100%, 40%)";points+='<circle cx="'+x+'" cy="'+y+'" r="'+r+'" fill="'+col+'">'+"<title>"+scat.s[i].x+": "+Number(scat.s[i].y).toFixed(1)+"</title>"+"</circle>"}svg.html(grid+axes+points);var svgText=svg.find("text");svgText.css("font","normal 8px sans-serif");svgText.css("fill","#505b62")};var plotAccuracy=function(svg,acc){var wd=svg.width();var ht=svg.height();var r=3;var d=wd/2>r?wd/2-r:0;var sqacc=acc<100?100-(100-acc)*(100-acc)/100:100;var rin=sqacc*d/100;var rout=r+sqacc*d/100;var col="hsl("+(acc<100?100-acc:0)+", 100%, 40%)";var bullet='<circle cx="'+wd/2+'" cy="'+ht/2+'" r="'+rout+'" fill="'+col+'" />'+'<circle cx="'+wd/2+'" cy="'+ht/2+'" r="'+rin+'" fill="hsl(0,0%,100%)" />';var crosshairs='<line x1="0" y1="'+ht/2+'" x2="'+wd+'" y2="'+ht/2+'" '+'stroke="#505b62" stroke-width="1" stroke-dasharray="0" />'+'<line x1="'+wd/2+'" y1="0" x2="'+wd/2+'" y2="'+ht+'" '+'stroke="#505b62" stroke-width="1" stroke-dasharray="0" />';svg.html(bullet+crosshairs)};function createSvgArc(x,y,r,startAngle,endAngle){if(startAngle>endAngle){var tmp=startAngle;startAngle=endAngle;endAngle=tmp}if(endAngle-startAngle>Math.PI*2){endAngle=Math.PI*1.99999}var largeArc=endAngle-startAngle<=Math.PI?0:1;return["M",x,y,"L",x+Math.cos(startAngle)*r,y-Math.sin(startAngle)*r,"A",r,r,0,largeArc,0,x+Math.cos(endAngle)*r,y-Math.sin(endAngle)*r,"L",x,y].join(" ")}var plotFraction=function(svg,frac,rank,num,max){var wd=svg.width();var ht=svg.height();var rout=wd/2-1;var rin=(rout-1)*(.67*(num>max?0:parseFloat(max-num)/max)+.33);var circum=frac*Math.PI*1.999999+Math.PI/2;var ccol="hsl("+(rank<100?100-rank:0)+", 100%, 90%)";var rcol="hsl("+(rank<100?100-rank:0)+", 100%, 40%)";var canvas='<circle cx="'+wd/2+'" cy="'+ht/2+'" r="'+rout+'" fill="'+ccol+'" />';var ring='<path d="'+createSvgArc(wd/2,wd/2,rout,Math.PI/2,circum)+'" fill="'+rcol+'" />';var bullseye='<circle cx="'+wd/2+'" cy="'+ht/2+'" r="'+rin+'" fill="hsl(0,0%,100%)" />';svg.html(canvas+ring+bullseye)};mod.initBhtStat=function(){var header=$("#headline");var bhtKey=header.data("bhtkey");if(bhtKey==undefined)return;var url="https://dblps.uni-trier.de/~mra/cgi-bin/tocstatdata.py";var data={bhtkey:bhtKey};var inpage=$("nav.side");var mirrors=$("#mirror-selector");mirrors.after('<div id="tocstat" class="drop-down">'+'<div class="head">'+'<span id="tocstat-color"><img src="'+dblp.BASE_URL+'/img/n.png" alt="" /></span>'+'<span class="tocstat-perc"><img src="'+dblp.BASE_URL+'/img/waiting.anim.gif" alt="" /></span>'+'<span class="tocstat-rank" />'+'<span class="tocstat-sep" />'+'<span id="tocstat-pagerank" hidden><svg class="tocstat-pagerank-svg icon-svg"></svg> <em></em></span>'+'<span id="tocstat-outcite" hidden><svg class="tocstat-outcite-svg icon-svg"></svg> <em></em></span>'+'<span id="tocstat-incite" hidden><svg class="tocstat-incite-svg icon-svg"></svg> <em></em></span>'+"</div>"+'<div class="body">'+'<p><b>dblp prominence</b> <small><a href="'+urldata(url,data)+'">[JSONP]</a></small></p>'+"<ul>"+'<li><span class="tocstat-score"><em>score:</em> ?</span></li>'+'<li><span class="tocstat-perc">?</span> among all <em><span class="tocstat-type">???</span></em></li>'+'<li>based on <em><span class="tocstat-base">?</span></em></li>'+"</ul>"+'<p id="tocstat-plot-label"></p>'+'<p><svg class="tocstat-hist-svg canvas-svg"></svg></p>'+'<p><svg class="tocstat-scat-svg canvas-svg"></svg></p>'+'<p id="tocstat-centrality-label"><b>CS centrality</b></p>'+'<ul id="tocstat-centrality"></ul>'+'<p id="tocstat-cites-label"><b>dblp citation coverage</b></p>'+'<ul id="tocstat-cites"></ul>'+'<p id="tocstat-rankings-label"><b>rankings</b></p>'+'<ul id="tocstat-rankings"></ul>'+'<p><small>last update: <span id="tocstat-mdate">??</span></small></p>'+"</div>"+"</div>");var tocstat=$("#tocstat");tocstat.hide();tocstat.css("float","right");tocstat.css("display","inline");tocstat.css("top","-4px");tocstat.css("white-space","nowrap");tocstat.css("margin","4px 0px 0px 8px");tocstat.css("color","#505b62");tocstat.css("background","#ffffff");tocstat.find(".head .tocstat-perc").css("font-weight","bold");var tocstathead=tocstat.find(".head");tocstathead.css("width","auto");tocstathead.css("height","auto");tocstathead.css("padding","1px 2px");tocstathead.css("position","relative");var tocstatbody=tocstat.find(".body");tocstatbody.css("top","24px");tocstatbody.css("left","auto");tocstatbody.css("right","-20px");tocstatbody.css("width","auto");tocstatbody.css("min-width","160px");tocstatbody.css("white-space","nowrap");var tocstatcol=tocstat.find("#tocstat-color img");tocstatcol.css("background","hsl(0, 0%, 75%)");tocstatcol.css("margin","0px 4px 0px 0px");tocstatcol.css("border","1px dotted #505b62");tocstatcol.css("position","relative");tocstatcol.css("top","2px");var tocstatbodyul=tocstatbody.find("ul");tocstatbodyul.css("margin","0px");tocstatbodyul.css("padding","0px 0px 0.5ex 15px");var tocstatcanvassvg=tocstatbody.find(".canvas-svg");$("head").append('<style type="text/css">'+".canvas-svg { width:170px; height:80px; padding:0px 4px; }"+"</style>");var tocstaticonsvg=tocstat.find(".icon-svg");$("head").append('<style type="text/css">'+".icon-svg { width:18px; height:18px; position:relative; top:4px; }"+"</style>");tocstat.find(".tocstat-sep").css("margin","0px 4px");console.debug("calling: ",urldata(url,data));$.ajax(url,{data:data,dataType:"jsonp"}).done(function(data,textStatus,jqXHR){if("error"in data){tocstat.hide()}else{var type=data.stat.type;var perc=Number(data.stat.perc);var score;if(data.stat.n&&type=="tocs")score="<em>toc score:</em> "+Number(data.stat.score).toFixed(1);else if(data.stat.n)score="<em>10y-avg score:</em> "+Number(data.stat.score).toFixed(1);else score="<em>score:</em> ??";var top;if(perc<=50)top="top&nbsp;"+perc+"%";else top="bottom&nbsp;"+(100-perc+1)+"%";var basis;if(data.stat.n&&type=="tocs")basis=data.stat.n+" records";else if(data.stat.n)basis="recent "+data.stat.avg+" years";else basis="?";tocstat.find(".tocstat-type").html(type);tocstat.find(".tocstat-perc").html(top);tocstat.find(".tocstat-score").html(score);tocstat.find(".tocstat-base").html(basis);tocstatcol.css("background","hsl("+(100-perc)+", 100%, 40%)");tocstatcol.css("border-color","hsl("+(100-perc)+", 100%, 10%)");if(type=="tocs")$("#tocstat-plot-label").html("author prominence:");else $("#tocstat-plot-label").html("volume scores:");var tocstathistsvg=tocstat.find(".tocstat-hist-svg");if(data.stat.hist)plotHistogram(tocstathistsvg,data.stat.hist[0]);else tocstathistsvg.hide();var tocstatscatsvg=tocstat.find(".tocstat-scat-svg");if(data.stat.scat&&data.stat.scat[0].last!=data.stat.scat[0].first){plotScatter(tocstatscatsvg,data.stat.scat[0])}else tocstatscatsvg.hide();var tocstataccsvg=tocstat.find(".tocstat-pagerank-svg");if(data.stat.pagerank&&data.stat.pagerankperc){prperc=data.stat.pagerankperc;var top;if(prperc<=50)top="inner "+prperc+"%";else top="outer "+(100-prperc)+"%";$("#tocstat-pagerank").prop("title",top+" community");plotAccuracy(tocstataccsvg,prperc);$("#tocstat-centrality").append("<li><i>community:</i> "+'<svg class="icon-svg">'+tocstataccsvg.html()+"</svg> "+top+"</li>");$("#tocstat-pagerank").show()}else{tocstataccsvg.hide();$("#tocstat-centrality-label").hide();$("#tocstat-centrality").hide()}if(data.stat.ranking&&data.stat.ranking.length>0){var tocstatrankings=$("#tocstat-rankings");var tocstatrank=tocstat.find(".tocstat-rank");for(var i=0;i<data.stat.ranking.length;i++){var html="<li><em>"+data.stat.ranking[i].key+":</em> "+data.stat.ranking[i].rank+"</li>";tocstatrankings.append(html);tocstatrank.append(" "+data.stat.ranking[i].rank+"")}}else{$("#tocstat-rankings-label").hide();$("#tocstat-rankings").hide()}var tocstatciteoutsvg=tocstat.find(".tocstat-outcite-svg");if(data.stat.citeoutrate&&data.stat.citeoutperc){var top=Number(100*data.stat.citeoutrate).toFixed(1)+"%";$("#tocstat-outcite").prop("title",top+" dblp references");plotFraction(tocstatciteoutsvg,data.stat.citeoutrate,data.stat.citeoutperc,data.stat.citeoutnum,500);$("#tocstat-cites").append('<li><img src="'+dblp.BASE_URL+'/img/citing.dark.16x16.png" style="position:relative; top:4px; left:-2px;" />'+'<svg class="icon-svg">'+tocstatciteoutsvg.html()+"</svg> "+top+" of <i>"+data.stat.citeoutnum+" references</i></li>");$("#tocstat-outcite").show()}var tocstatciteinsvg=tocstat.find(".tocstat-incite-svg");if(data.stat.citeinrate&&data.stat.citeinperc){var top=Number(100*data.stat.citeinrate).toFixed(1)+"%";$("#tocstat-incite").prop("title",top+" dblp citations");plotFraction(tocstatciteinsvg,data.stat.citeinrate,data.stat.citeinperc,data.stat.citeinnum,500);$("#tocstat-cites").append('<li><img src="'+dblp.BASE_URL+'/img/cited.dark.16x16.png" style="position:relative; top:4px; left:-2px;" />'+'<svg class="icon-svg">'+tocstatciteinsvg.html()+"</svg> "+top+" of <i>"+data.stat.citeinnum+" citations</i></li>")}if(data.stat.citeinrate&&data.stat.citeinavg&&data.stat.citeinavgperc){var top;if(data.stat.citeinavgperc<=50)top="top&nbsp;"+data.stat.citeinavgperc+"%";else top="bottom&nbsp;"+(100-data.stat.citeinavgperc+1)+"%";$("#tocstat-cites").append('<li><img src="'+dblp.BASE_URL+'/img/semscholar-velocity.dark.12x12.png" style="position:relative; width:16px; height:16px; left:-2px;" />'+'<span id="citeavg-color"><img src="'+dblp.BASE_URL+'/img/n.png" alt="" /></span> '+top+" avg paper cite count</li>");var citeavgcol=$("#citeavg-color img");citeavgcol.css("margin","0px 4px 0px 4px");citeavgcol.css("position","relative");citeavgcol.css("top","0px");citeavgcol.css("background","hsl("+(100-data.stat.citeinavgperc)+", 100%, 40%)")}if($("#tocstat-cites li").length==0)$("#tocstat-cites").append("<li><i>no data</i></li>");else{$("#tocstat-cites").css("padding","0px");$("#tocstat-cites li").css("list-style-type","none")}$("#tocstat-mdate").html(data.stat.mdate);tocstat.show()}}).fail(function(){tocstat.hide()}).always(function(){console.info("done asking for BHT stats")})};mod.initTocListStat=function(){var items=$("ul.publ-list li.toc");items.each(function(index){var link=$(this).find(".data .toc-link");var bhtKey=link.attr("href");if(bhtKey==undefined)return;bhtKey=bhtKey.substring(dblp.BASE_URL.length+1);if(!bhtKey.startsWith("db/")){console.warn("inconsistent bht key",link.attr("href"));return}bhtKey=bhtKey.substring(0,bhtKey.indexOf("."))+".bht";var html='<span class="toc-info">??</span>';link.append(html);var info=link.find(".toc-info");info.css("font-size","smaller");info.css("margin-left","0.3em");info.css("padding-left","0.2em");var url="https://dblps.uni-trier.de/~mra/cgi-bin/tocstatdata.py";var data={bhtkey:bhtKey};var call=function(){console.debug("calling: ",urldata(url,data));$.ajax(url,{data:data,dataType:"jsonp"}).done(function(data,textStatus,jqXHR){if("error"in data){console.warn("no tocstat for",bhtKey,textStatus);info.hide()}else{var perc=Number(data.stat.perc);var score=Number(data.stat.score).toFixed(1);html='<span class="box">&#9646;</span><b>'+score+"</b>";info.html(html);info.find("span").css("margin-right","0.2em");info.find("span.box").css("color","hsl("+(100-perc)+",100%,40%)")}}).fail(function(jqXHR,textStatus,errorThrown){console.warn("no tocstat for",bhtKey,textStatus,errorThrown);info.hide()}).always(function(){console.debug("done calling: ",urldata(url,data))})};setTimeout(call,index*100)})};mod.initResultListStat=function(){$("body.search-page #main").on("mouseenter","ul.result-list",function(){if($(this).data("stat-done")=="true")return;$(this).children("li").each(function(index){var link=$(this).find("a:first");var bhtKey=link.attr("href");if(bhtKey==undefined)return;bhtKey=bhtKey.substring(dblp.BASE_URL.length+1);if(!bhtKey.startsWith("db/")){console.warn("inconsistent bht key",link.attr("href"));return}if(bhtKey.indexOf(".")>-1)bhtKey=bhtKey.substring(0,bhtKey.indexOf("."));if(bhtKey.endsWith("/"))bhtKey=bhtKey+"index";bhtKey=bhtKey+".bht";var html='<span class="result-info">??</span>';link.after(html);var info=$(this).find(".result-info");info.css("font-size","smaller");info.css("margin-left","0.3em");info.css("padding-left","0.2em");var url="https://dblps.uni-trier.de/~mra/cgi-bin/tocstatdata.py";var data={bhtkey:bhtKey};var call=function(){console.debug("calling: ",urldata(url,data));$.ajax(url,{data:data,dataType:"jsonp"}).done(function(data,textStatus,jqXHR){if("error"in data){console.warn("no tocstat for",bhtKey,textStatus);info.hide()}else{var perc=Number(data.stat.perc);var score=Number(data.stat.score).toFixed(1);var prperc=Number(data.stat.pagerankperc);var ciaperc=Number(data.stat.citeinavgperc);html='<span class="box">&#9726;</span>'+score;if(prperc)html+='&nbsp;<span class="circ">&#9673;</span>'+prperc+"%";if(ciaperc)html+='&nbsp;<span class="arrow">&#11208;</span>'+ciaperc+"%";info.html(html);info.find("span").css("margin-right","0.2em");info.find("span.box").css("color","hsl("+(100-perc)+",100%,40%)");info.find("span.circ").css("color","hsl("+(100-prperc)+",100%,40%)");info.find("span.arrow").css("color","hsl("+(100-ciaperc)+", 100%, 40%)")}}).fail(function(jqXHR,textStatus,errorThrown){console.warn("no tocstat for",bhtKey,textStatus,errorThrown);info.hide()}).always(function(){console.debug("done calling: ",urldata(url,data))})};setTimeout(call,index*200)});$(this).data("stat-done","true")})};var checkUnpaywall=function(item){var doi=item.data("doi");if(doi===undefined){console.debug("no DOI, skipping unpaywall call for ",item);return}var apiUrl="https://api.unpaywall.org/v2/"+doi+"?email="+dblp.AJAX_CONTACT_EMAIL;console.debug("start asking unpaywall.org for",doi);if(dblp.TEAM_MODE_ENABLED||dblp.LEY_MODE_ENABLED||dblp.MRA_MODE_ENABLED){$.post("https://dblps.uni-trier.de/~mra/cgi-bin/200.py?unpaywall")}console.debug("calling: ",apiUrl);$.ajax(apiUrl,{dataType:"json",crossDomain:true}).done(function(data,textStatus,jqXHR){if("best_oa_location"in data&&data.best_oa_location!=null){if("url_for_landing_page"in data.best_oa_location||"url"in data.best_oa_location){var eeAs=item.parent().find("li.ee a").toArray();var ees=[];for(var i=0;typeof eeAs[i]!="undefined";i++){var ee=eeAs[i].getAttribute("href");ees.push(ee.toUpperCase().replace("HTTP://","HTTPS://"))}var oaurl=null;if("url_for_landing_page"in data.best_oa_location){oaurl=data.best_oa_location.url_for_landing_page}if(oaurl==null&&"url"in data.best_oa_location){oaurl=data.best_oa_location.url}if(oaurl==null){console.warn("missing OA URL in API resonse",data);item.remove();return}else if(ees.includes(oaurl.toUpperCase().replace("HTTP://","HTTPS://"))){console.debug("unpaywall URL already an ee:",oaurl);item.parent().find("li.ee").each(function(){var a=$(this).find("a");if(a.attr("href").toUpperCase().replace("HTTP://","HTTPS://")===oaurl.toUpperCase().replace("HTTP://","HTTPS://")){var imgSrc=dblp.BASE_URL+"/img/paper-unpaywall.dark.16x16.png";a.find("img").attr("src",imgSrc);a.append(" (unpaywalled)")}a=$(this).closest("li.drop-down").find(".head a");if(a.attr("href").toUpperCase().replace("HTTP://","HTTPS://")===oaurl.toUpperCase().replace("HTTP://","HTTPS://")){var imgSrc=dblp.BASE_URL+"/img/paper-unpaywall.dark.hollow.16x16.png";a.find("img").attr("src",imgSrc)}});item.remove()}else{item.find("a").attr("href",oaurl);item.removeClass("display-none");item.show()}}else item.remove()}else item.remove()}).fail(function(jqXHR,textStatus,errorThrown){item.remove()}).always(function(){console.info("done asking unpaywall.org")})};mod.initUnpaywall=function(){$("#main").on("mouseenter","ul.publ-list li.entry",function(){if($(this).data("unpaywall-done")=="true")return;if($.cookie("dblp-unpaywall-load")!="true")return;checkUnpaywall($(this).find("nav.publ>ul>li:first-child li.unpaywall"));$(this).data("unpaywall-done","true")})};var loadAltmetrics=function(container){var type=container.data("type");var id=container.data("id");var apiUrl="https://api.altmetric.com/v1/";if(type=="doi")apiUrl+="doi/"+id;else if(type=="arxiv")apiUrl+="arxiv/"+id;else if(type=="isbn")apiUrl+="isbn/"+id;else if(type=="uri")apiUrl+="uri/"+encodeURIComponent(id);else return;console.debug("start asking altmetrics for",type,id);if(dblp.TEAM_MODE_ENABLED||dblp.LEY_MODE_ENABLED||dblp.MRA_MODE_ENABLED){$.post("https://dblps.uni-trier.de/~mra/cgi-bin/200.py?altmetrics")}console.debug("calling: ",apiUrl);$.ajax(apiUrl,{dataType:"json",crossDomain:true}).done(function(data,textStatus,jqXHR){var html='<a href="'+data.details_url+'">'+'<img alt="" src="https://d1uo4w7k31k5mn.cloudfront.net/v4/'+Math.ceil(data.score)+'.png" />'+'&nbsp;<img alt="" src="'+data.images.medium+'&style=bar" '+'style="height:15px; width:'+(5+Math.ceil(75*Math.min(data.score,50)/50)+Math.ceil(2*Math.sqrt(data.score)))+'px;" />'+"</a>";container.html(html)}).fail(function(jqXHR,textStatus,errorThrown){container.remove()}).always(function(){console.info("done asking altmetrics")})};var loadDimensions=function(container){var type=container.data("type");var id=container.data("id");var apiUrl="https://metrics-api.dimensions.ai/";if(type=="doi")apiUrl+="doi/"+id;else return;console.debug("start asking dimensions for",type,id);if(dblp.TEAM_MODE_ENABLED||dblp.LEY_MODE_ENABLED||dblp.MRA_MODE_ENABLED){$.post("https://dblps.uni-trier.de/~mra/cgi-bin/200.py?dimensions")}console.debug("calling: ",apiUrl);$.ajax(apiUrl,{dataType:"json",crossDomain:true}).done(function(data,textStatus,jqXHR){var html='<a href="https://badge.dimensions.ai/details/'+type+"/"+id+'">'+'<img alt="" src="https://badge.dimensions.ai/badge?style=rectangle&count='+data.times_cited+'" height="16px" />'+"</a>";if(data.times_cited>0)container.html(html)}).fail(function(jqXHR,textStatus,errorThrown){container.remove()}).always(function(){console.info("done asking dimensions")})};mod.initMetrics=function(){$("#main").on("mouseenter","ul.publ-list li.entry nav.publ>ul>li:first-child",function(){if($(this).data("metrics-done")=="true")return;loadAltmetrics($(this).find("div.altmetric-container"));loadDimensions($(this).find("div.dimensions-container"));$(this).data("metrics-done","true")})};mod.init=function(){console.debug("start initializing UI element functions");mod.initScrollBars();mod.initInpageNav();mod.initHideables();mod.initDismissables();mod.initExpandables();mod.initTextSelect();mod.initBanner();mod.initArchiveUrls();mod.initTweets();mod.initSettingsMenu();mod.initUnpaywall();if(dblp.TEAM_MODE_ENABLED||dblp.LEY_MODE_ENABLED||dblp.MRA_MODE_ENABLED){mod.initBhtStat();mod.initTocListStat()}if(dblp.MRA_MODE_ENABLED){mod.initMetrics();mod.initResultListStat()}console.info("done initializing UI element functions")}})(dblp.ui);$(document).ready(dblp.ui.init());
